import{a as H,c as V}from"./chunk-WM5FRNIW.js";import{a as j,b as w,c as O}from"./chunk-DNJNJEUD.js";import{s as f,x as $,y as N}from"./chunk-UDJ36MJB.js";import{Bb as r,Cb as u,Db as T,Ib as s,Jb as F,Kb as z,Xa as c,Ya as l,ea as E,hc as A,ic as B,jc as y,la as d,lb as S,nb as k,ob as D,qb as _,rb as M,sb as v,tb as o,ub as i,va as C,vb as m,wa as b,wb as P,xb as g,yb as p}from"./chunk-VHTELBSG.js";function J(n,h){if(n&1){let e=P();o(0,"li")(1,"button",3),g("click",function(){let a=C(e).$implicit,x=p();return b(x.changeCategory(a.id))}),r(2),i()()}if(n&2){let e=h.$implicit,t=p();c(),D("active",t.selectedCategory===e.id),c(),T(" ",e.name," ")}}var K=(()=>{class n{constructor(e){this.store=e,this.productsService=E(j),this.categories=[],this.selectedCategory=0}changeCategory(e){this.store.dispatch(N({categoryId:e}))}ngOnInit(){this.productsService.getAllCategories().subscribe({next:e=>{this.categories=[{id:0,name:"Todas",slug:"",image:"",creationAt:new Date,updatedAt:new Date},...e]},error:e=>{console.error("Error al obtener categor\xEDas:",e),this.categories=[{id:0,name:"Todas",slug:"",image:"",creationAt:new Date,updatedAt:new Date}]}}),this.store.select(e=>e.shopping.categoryId).subscribe(e=>{this.selectedCategory=e})}static{this.\u0275fac=function(t){return new(t||n)(l(f))}}static{this.\u0275cmp=d({type:n,selectors:[["app-menu"]],standalone:!0,features:[s],decls:7,vars:0,consts:[[1,"content"],[1,"sidebar-menu"],[1,"category-list","truncate"],[1,"category-btn",3,"click"]],template:function(t,a){t&1&&(o(0,"div",0)(1,"nav",1)(2,"h2"),r(3,"Categor\xEDas"),i(),o(4,"ul",2),M(5,J,3,3,"li",null,_),i()()()),t&2&&(c(5),v(a.categories))},styles:[".sidebar-menu[_ngcontent-%COMP%]{position:fixed;height:100vh;width:15vh;background:#fff;box-shadow:-2px 0 12px #00000014,0 2px 8px #0000000a;border-radius:16px 0 0 16px;padding:32px 24px;display:flex;flex-direction:column}.sidebar-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.sidebar-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:24px}.sidebar-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#333;font-size:1.1rem;font-weight:500;transition:color .2s}.sidebar-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#1976d2}.truncate[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.category-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.category-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:16px}.category-btn[_ngcontent-%COMP%]{width:100%;background:none;border:none;color:#333;font-size:1rem;font-weight:500;text-align:left;padding:8px 12px;border-radius:6px;cursor:pointer;transition:background .2s,color .2s}.category-btn.active[_ngcontent-%COMP%], .category-btn[_ngcontent-%COMP%]:hover{background:#1976d2;color:#fff}"]})}}return n})();function U(n,h){if(n&1){let e=P();o(0,"tr")(1,"td"),r(2),i(),o(3,"td"),r(4),F(5,"currency"),i(),o(6,"td"),r(7),i(),o(8,"td")(9,"button",2),g("click",function(){let a=C(e).$implicit,x=p();return b(x.removeFromCart(a))}),o(10,"mat-icon",3),r(11," remove "),i()()()()}if(n&2){let e,t=h.$implicit;c(2),u(t.title),c(2),u(z(5,3,((e=t==null?null:t.price)!==null&&e!==void 0?e:0)*((e=t==null?null:t.stock)!==null&&e!==void 0?e:0))),c(3),u(t.stock)}}var q=(()=>{class n{constructor(e){this.store=e,this.ShoppingProduct=[]}ngOnInit(){this.store.select(e=>e.shopping.Productos).subscribe(e=>{this.ShoppingProduct=e})}removeFromCart(e){this.store.dispatch($({producto:e}))}static{this.\u0275fac=function(t){return new(t||n)(l(f))}}static{this.\u0275cmp=d({type:n,selectors:[["app-shopping-modal"]],standalone:!0,features:[s],decls:16,vars:0,consts:[[1,"card"],[1,"content"],[3,"click"],[1,"card-icon"]],template:function(t,a){t&1&&(o(0,"div",0)(1,"div",1)(2,"table")(3,"thead")(4,"tr")(5,"th"),r(6,"Producto"),i(),o(7,"th"),r(8,"Precio"),i(),o(9,"th"),r(10,"Cantidad"),i(),o(11,"th"),r(12,"Accion"),i()()(),o(13,"tbody"),M(14,U,12,5,"tr",null,_),i()()()()),t&2&&(c(14),v(a.ShoppingProduct))},dependencies:[y,B,O,w],styles:[".card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 12px #0000001f;padding:20px 16px;min-width:320px;max-width:400px;margin:0 auto}.content[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-bottom:8px}thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#1976d2;color:#fff;padding:10px 6px;font-size:1rem;font-weight:600;border-top-left-radius:8px;border-top-right-radius:8px}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px 6px;border-bottom:1px solid #e3e3e3;text-align:center;font-size:.98rem}tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}button[_ngcontent-%COMP%]{background:#e53935;color:#fff;border:none;border-radius:6px;padding:5px 14px;font-size:.95rem;font-weight:500;cursor:pointer;transition:background .2s;box-shadow:0 1px 4px #e5393514}button[_ngcontent-%COMP%]:hover{background:#b71c1c}"]})}}return n})();function W(n,h){if(n&1&&(o(0,"span",5),r(1),i()),n&2){let e=p();c(),u(e.cartCount)}}function X(n,h){n&1&&m(0,"app-shopping-modal",6)}var G=(()=>{class n{constructor(e){this.store=e,this.cartCount=0,this.showCart=!1,this.store.select(t=>t.shopping.Productos.length).subscribe(t=>{this.cartCount=t})}openCart(){this.cartCount!=0&&(this.showCart=!this.showCart)}static{this.\u0275fac=function(t){return new(t||n)(l(f))}}static{this.\u0275cmp=d({type:n,selectors:[["app-header"]],standalone:!0,features:[s],decls:8,vars:2,consts:[[1,"header"],[1,"shoppingBotton",3,"click"],[1,"card-icon"],["class","badge",4,"ngIf"],["class","shopping-modal",4,"ngIf"],[1,"badge"],[1,"shopping-modal"]],template:function(t,a){t&1&&(o(0,"div",0)(1,"h1"),r(2,"BANK INC. "),i(),o(3,"button",1),g("click",function(){return a.openCart()}),o(4,"mat-icon",2),r(5," shopping_cart "),i(),S(6,W,2,1,"span",3),i(),S(7,X,1,0,"app-shopping-modal",4),i()),t&2&&(c(6),k("ngIf",a.cartCount>0),c(),k("ngIf",a.showCart&&a.cartCount!=0))},dependencies:[O,w,y,A,q],styles:[".header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:16px;background:#15316e}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin:0}.card-icon[_ngcontent-%COMP%]{font-size:32px;color:#fff;margin-right:6px}.badge[_ngcontent-%COMP%]{background-color:red;color:#fff;padding:3px 4px 2px 1px;text-align:center;border-radius:5px}.shoppingBotton[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;position:relative}.shopping-modal[_ngcontent-%COMP%]{position:fixed;top:53px;right:40px;z-index:2000}"]})}}return n})();var fe=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=d({type:n,selectors:[["app-dashboard"]],standalone:!0,features:[s],decls:8,vars:0,consts:[[1,"dashboard-container"],[1,"dashboard-header"],[1,"dashboard-main"],[1,"dashboard-menu"],[1,"dashboard-content"]],template:function(t,a){t&1&&(o(0,"div",0)(1,"div",1),m(2,"app-header"),i(),o(3,"div",2)(4,"div",3),m(5,"app-menu"),i(),o(6,"div",4),m(7,"router-outlet"),i()()())},dependencies:[K,V,H,G],styles:[".dashboard-container[_ngcontent-%COMP%]{background:#f1f5f9;color:#000;font-family:system-ui,sans-serif;display:flex;flex-direction:column}.dashboard-header[_ngcontent-%COMP%]{width:100%;flex-shrink:0}.dashboard-main[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex:1 1 0;min-height:0;width:100%;height:100%}.dashboard-menu[_ngcontent-%COMP%]{flex-shrink:0;height:100%;width:220px;box-sizing:border-box}.dashboard-content[_ngcontent-%COMP%]{flex:1 1 0;display:block;padding:32px 16px;min-width:0;min-height:0;height:100%;width:100%;box-sizing:border-box}.dashboard-content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%;max-width:none;margin:0}"]})}}return n})();export{fe as DashboardComponent};
